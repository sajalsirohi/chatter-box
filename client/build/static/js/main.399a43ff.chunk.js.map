{"version":3,"sources":["components/chat/chat.component.jsx","components/infobar/infobar.component.jsx","components/input/input.component.jsx","components/message/message.component.jsx","components/messages/messages.component.jsx","pages/chat-page/chat-page.component.jsx","redux/join/join.type.js","components/form/form.component.jsx","redux/join/join.action.js","components/join/join.component.jsx","pages/join-page/join-page.component.jsx","App.js","redux/join/join.reducer.js","redux/root-reducer.js","redux/store.js","index.js"],"names":["socket","InfoBar","name","roomName","className","href","Input","message","setMessage","sendMessage","type","placeholder","value","onChange","event","target","onKeyPress","key","onClick","Message","user","text","isSentByCurrentUser","trim","toLowerCase","Messages","messages","map","idx","connect","state","joiningDetails","join","ENDPOINT","useState","setMessages","useEffect","io","emit","off","on","console","log","preventDefault","ChatPage","JoinActionTypes","JOIN_USER","JoiningForm","handleSubmit","props","joinUser","history","push","alert","handleChange","onSubmit","this","autoComplete","required","React","Component","withRouter","dispatch","payload","Join","JoinPage","App","exact","path","component","INITIAL_STATE","joinReducer","action","persistConfig","storage","whitelist","rootReducer","combineReducers","persistReducer","store","createStore","applyMiddleware","logger","persistor","persistStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.399a43ff.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport \"./chat.styles.scss\";\n\n\nimport InfoBar from \"../../components/infobar/infobar.component\";\nimport Input from \"../../components/input/input.component\";\nimport Messages from \"../../components/messages/messages.component\";\n\nimport io from \"socket.io-client\";\n\nlet socket;\n\nconst Chat = ({ joiningDetails }) => {\n  const { name, roomName } = joiningDetails;\n  const ENDPOINT = \"https://react-redux-chat-appp.herokuapp.com/\";\n\n  const [message, setMessage] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n\n  useEffect(() => {\n    socket = io(ENDPOINT);\n\n    socket.emit(\"join\", { name, roomName }, () => {});\n\n    return () => {\n      socket.emit(\"disconnect\");\n      socket.off();\n    };\n  }, [ENDPOINT, name, roomName]);\n\n  useEffect(() => {\n    socket.on(\"message\", (message) => {\n      setMessages([...messages, message]);\n    });\n  }, [messages]);\n\n  const sendMessage = (event) => {\n    event.preventDefault();\n\n    if (message) {\n      socket.emit(\"sendMessage\", message, () => setMessage(\"\"));\n    }\n  };\n\n  console.log(message, messages);\n\n  return (\n    <div className=\"outer\">\n      <InfoBar name={name} roomName={roomName} />\n\n      <div className=\"inner\">\n      <div className=\"chat-container\">\n      <Messages messages={messages} name={name} />\n        <Input\n          message={message}\n          setMessage={setMessage}\n          sendMessage={sendMessage}\n        />\n      </div>\n        \n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  joiningDetails: state.join.joiningDetails,\n});\n\nexport default connect(mapStateToProps)(Chat);\n\n","import React from \"react\";\nimport \"./infobar.styles.scss\";\n\nconst InfoBar = ({ name, roomName }) => {\n  return (\n    <div className=\"info-bar\">\n      <div className=\"user-info\">\n        <p>\n          Room: <span className=\"title\">{roomName}</span> SignedIn as:\n          <span className=\"title\">{name}</span>{\" \"}\n        </p>\n      </div>\n      <div className=\"exit\">\n        <a href=\"/\" className=\"go-back\">\n          X\n        </a>\n      </div>\n    </div>\n  );\n};\n\nexport default InfoBar;\n","import React from \"react\";\nimport \"./input.styles.scss\";\n\nconst Input = ({message, setMessage, sendMessage}) => (\n    <form className=\"message-form\">\n        <input\n        className=\"input-message\"\n        type=\"text\"\n        placeholder=\"Type a message...\"\n        value={message}\n        onChange={event => setMessage(event.target.value)}\n        onKeyPress={event => event.key === 'Enter' && sendMessage(event)}\n        />\n        <button className=\"send-btn\" onClick={event => sendMessage(event)}>send</button>\n    </form>\n)\n\nexport default Input;","import React from \"react\";\n\nimport \"./message.styles.scss\";\n\nconst Message = ({ message: { user, text }, name }) => {\n  const trimmedName = name.trim().toLowerCase();\n  let isSentByCurrentUser = false;\n\n  if (user === trimmedName) {isSentByCurrentUser = true;}\n\n  return (\n    <div\n      className={`${\n        isSentByCurrentUser ? \"justify-right\" : \"justify-left\"\n      } msg-container`}\n    >\n      {isSentByCurrentUser ? null : <span className=\"user-name\">{user}</span>}\n      <div className={`${isSentByCurrentUser && \"diff-msg\"} msgbox`}>\n        <div className=\"msg-txt\">{text}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default Message;\n","import React from \"react\";\n\nimport \"./messages.styles.scss\";\nimport ScrollToBottom from \"react-scroll-to-bottom\";\nimport Message from \"../message/message.component\";\n\nconst Messages = ({ messages, name }) => {\n    return (\n        <ScrollToBottom>\n        {messages.map((message, idx) => (\n          <div key={idx} className=\"msgs\">\n            <Message message={message} name={name} />\n          </div>\n        ))}\n      </ScrollToBottom>\n    )\n};\n\nexport default Messages;\n","import React from \"react\";\n\nimport Chat from \"../../components/chat/chat.component\";\n\nimport \"./chat-page.styles.scss\";\n\nconst ChatPage = () => (\n  <div className=\"chat-page\">\n    <Chat />\n  </div>\n);\n\nexport default ChatPage;\n","const JoinActionTypes = {\n    JOIN_USER: \"JOIN_USER\"\n}\n\nexport default JoinActionTypes;","import React from \"react\";\n\nimport \"./form.styles.scss\";\n\nimport { withRouter } from \"react-router-dom\";\n\nimport { connect } from \"react-redux\";\n\nimport { joinUser } from \"../../redux/join/join.action\";\n\nclass JoiningForm extends React.Component {\n  joiningDetails = {\n    name: \"\",\n    roomName: \"\",\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { name, roomName } = this.joiningDetails;\n    if (name && roomName) {\n      this.props.joinUser(this.joiningDetails);\n      this.props.history.push(\"/chat\");\n    } else alert(\"Please fill both the details\");\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.joiningDetails = {\n      ...this.joiningDetails,\n      [name]: value,\n    };\n  };\n\n  render() {\n    return (\n      <div className=\"form-div\">\n        <h1 className='title'>Join Chat Room</h1>\n\n        <form className=\"form\" onSubmit={this.handleSubmit}>\n          <label className=\"label\">Name</label>\n          <input\n            className=\"form-input\"\n            name=\"name\"\n            type=\"text\"\n            onChange={this.handleChange}\n            placeholder=\"Sajal Sirohi\"\n            autoComplete=\"off\"\n            required\n          />\n          <label className=\"label\">Room Name</label>\n          <input\n            className=\"form-input\"\n            name=\"roomName\"\n            type=\"text\"\n            onChange={this.handleChange}\n            placeholder=\"Football\"\n            autoComplete=\"off\"\n            required\n          />\n          <input type=\"submit\" value=\"submit\" />\n        </form>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  joinUser: (joiningDetails) => dispatch(joinUser(joiningDetails)),\n});\n\nexport default withRouter(connect(null, mapDispatchToProps)(JoiningForm));\n","import JoinActionTypes from \"./join.type\";\n\nexport const joinUser = (userJoiningDetails) => ({\n    type: JoinActionTypes.JOIN_USER,\n    payload: userJoiningDetails\n});","import React from \"react\";\nimport JoiningForm from \"../../components/form/form.component\"\nimport \"./join.styles.scss\";\n\nconst Join =() => {  \n    return (\n      <div className=\"join-container\">\n        <JoiningForm />\n      </div>\n    );\n}\n\nexport default Join;\n","import React from \"react\";\n\nimport Join from \"../../components/join/join.component\";\n\nimport \"./join-page.styles.scss\";\n\nconst JoinPage = () => (\n  <div className=\"join-page\">\n    <Join />\n  </div>\n);\n\nexport default JoinPage;\n","import React from \"react\";\nimport \"./App.scss\";\n\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\n\nimport ChatPage from \"./pages/chat-page/chat-page.component\";\nimport JoinPage from \"./pages/join-page/join-page.component\";\n\nconst App = () => {\n  return (\n    <Router>\n      <Route exact path=\"/\" component={JoinPage} />\n      <Route exact path=\"/chat\" component={ChatPage} />\n    </Router>\n  );\n};\n\nexport default App;\n","import JoinActionTypes from \"./join.type\";\n\nconst INITIAL_STATE = {\n  joiningDetails: {},\n};\n\nconst joinReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case JoinActionTypes.JOIN_USER:\n      return {\n        ...state,\n        joiningDetails: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default joinReducer;\n","import { combineReducers } from \"redux\";\nimport joinReducer from './join/join.reducer';\n\nimport { persistReducer } from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\";\n\nconst persistConfig = {\n    key: \"root\",\n    storage,\n    whitelist: [\"join\"],\n  };\n\nconst rootReducer = combineReducers({\n    join: joinReducer\n});\n\nexport default persistReducer(persistConfig, rootReducer);","import { createStore, applyMiddleware } from \"redux\";\nimport rootReducer from \"./root-reducer\";\nimport logger from \"redux-logger\";\nimport { persistStore } from \"redux-persist\";\n\nexport const store = createStore(rootReducer, applyMiddleware(logger));\nexport const persistor = persistStore(store);\n\n\nexport default {store, persistor};\n","import React from \"react\";\n\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nimport { Provider } from \"react-redux\";\nimport { store, persistor } from \"./redux/store\";\n\nimport { PersistGate } from \"redux-persist/integration/react\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate persistor={persistor}>\n      <App />\n    </PersistGate>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}