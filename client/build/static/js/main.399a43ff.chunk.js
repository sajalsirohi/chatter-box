(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{132:function(e,t,a){},163:function(e,t){},166:function(e,t,a){},167:function(e,t,a){},169:function(e,t,a){},170:function(e,t,a){},173:function(e,t,a){"use strict";a.r(t);var n,c=a(0),r=a.n(c),s=a(19),o=a.n(s),l=(a(81),a(35)),i=a(1),m=a(74),u=a(40),f=a(9),p=(a(86),a(87),function(e){var t=e.name,a=e.roomName;return r.a.createElement("div",{className:"info-bar"},r.a.createElement("div",{className:"user-info"},r.a.createElement("p",null,"Room: ",r.a.createElement("span",{className:"title"},a)," SignedIn as:",r.a.createElement("span",{className:"title"},t)," ")),r.a.createElement("div",{className:"exit"},r.a.createElement("a",{href:"/",className:"go-back"},"X")))}),E=(a(88),function(e){var t=e.message,a=e.setMessage,n=e.sendMessage;return r.a.createElement("form",{className:"message-form"},r.a.createElement("input",{className:"input-message",type:"text",placeholder:"Type a message...",value:t,onChange:function(e){return a(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&n(e)}}),r.a.createElement("button",{className:"send-btn",onClick:function(e){return n(e)}},"send"))}),g=(a(89),a(66)),h=a.n(g),d=(a(132),function(e){var t=e.message,a=t.user,n=t.text,c=!1;return a===e.name.trim().toLowerCase()&&(c=!0),r.a.createElement("div",{className:"".concat(c?"justify-right":"justify-left"," msg-container")},c?null:r.a.createElement("span",{className:"user-name"},a),r.a.createElement("div",{className:"".concat(c&&"diff-msg"," msgbox")},r.a.createElement("div",{className:"msg-txt"},n)))}),b=function(e){var t=e.messages,a=e.name;return r.a.createElement(h.a,null,t.map((function(e,t){return r.a.createElement("div",{key:t,className:"msgs"},r.a.createElement(d,{message:e,name:a}))})))},j=a(67),N=a.n(j),v=Object(f.b)((function(e){return{joiningDetails:e.join.joiningDetails}}))((function(e){var t=e.joiningDetails,a=t.name,s=t.roomName,o="https://react-redux-chat-appp.herokuapp.com/",l=Object(c.useState)(""),i=Object(u.a)(l,2),f=i[0],g=i[1],h=Object(c.useState)([]),d=Object(u.a)(h,2),j=d[0],v=d[1];Object(c.useEffect)((function(){return(n=N()(o)).emit("join",{name:a,roomName:s},(function(){})),function(){n.emit("disconnect"),n.off()}}),[o,a,s]),Object(c.useEffect)((function(){n.on("message",(function(e){v([].concat(Object(m.a)(j),[e]))}))}),[j]);return console.log(f,j),r.a.createElement("div",{className:"outer"},r.a.createElement(p,{name:a,roomName:s}),r.a.createElement("div",{className:"inner"},r.a.createElement("div",{className:"chat-container"},r.a.createElement(b,{messages:j,name:a}),r.a.createElement(E,{message:f,setMessage:g,sendMessage:function(e){e.preventDefault(),f&&n.emit("sendMessage",f,(function(){return g("")}))}}))))})),O=(a(166),function(){return r.a.createElement("div",{className:"chat-page"},r.a.createElement(v,null))}),y=a(22),C=a(23),D=a(68),S=a(69),x=a(73),k=a(75),J=(a(167),{JOIN_USER:"JOIN_USER"}),R=function(e){Object(k.a)(a,e);var t=Object(x.a)(a);function a(){var e;Object(D.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).joiningDetails={name:"",roomName:""},e.handleSubmit=function(t){t.preventDefault();var a=e.joiningDetails,n=a.name,c=a.roomName;n&&c?(e.props.joinUser(e.joiningDetails),e.props.history.push("/chat")):alert("Please fill both the details")},e.handleChange=function(t){var a=t.target,n=a.name,c=a.value;e.joiningDetails=Object(C.a)({},e.joiningDetails,Object(y.a)({},n,c))},e}return Object(S.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"form-div"},r.a.createElement("h1",{className:"title"},"Join Chat Room"),r.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},r.a.createElement("label",{className:"label"},"Name"),r.a.createElement("input",{className:"form-input",name:"name",type:"text",onChange:this.handleChange,placeholder:"Sajal Sirohi",autoComplete:"off",required:!0}),r.a.createElement("label",{className:"label"},"Room Name"),r.a.createElement("input",{className:"form-input",name:"roomName",type:"text",onChange:this.handleChange,placeholder:"Football",autoComplete:"off",required:!0}),r.a.createElement("input",{type:"submit",value:"submit"})))}}]),a}(r.a.Component),w=Object(i.e)(Object(f.b)(null,(function(e){return{joinUser:function(t){return e({type:J.JOIN_USER,payload:t})}}}))(R)),I=(a(169),function(){return r.a.createElement("div",{className:"join-container"},r.a.createElement(w,null))}),U=(a(170),function(){return r.a.createElement("div",{className:"join-page"},r.a.createElement(I,null))}),M=function(){return r.a.createElement(l.a,null,r.a.createElement(i.a,{exact:!0,path:"/",component:U}),r.a.createElement(i.a,{exact:!0,path:"/chat",component:O}))},_=a(5),q={joiningDetails:{}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J.JOIN_USER:return Object(C.a)({},e,{joiningDetails:t.payload});default:return e}},A=a(24),B=a(70),F={key:"root",storage:a.n(B).a,whitelist:["join"]},K=Object(_.c)({join:P}),L=Object(A.a)(F,K),T=a(71),X=a.n(T),z=Object(_.d)(L,Object(_.a)(X.a)),G=Object(A.b)(z),H=a(72);o.a.render(r.a.createElement(f.a,{store:z},r.a.createElement(H.a,{persistor:G},r.a.createElement(M,null))),document.getElementById("root"))},76:function(e,t,a){e.exports=a(173)},81:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){}},[[76,1,2]]]);
//# sourceMappingURL=main.399a43ff.chunk.js.map